@inject IHttpClientFactory HttpClient
@inject IJSRuntime Js
@inject IBasketService BasketService;
@*@inherits Nupp.Services.CatalogItemBase*@
@using System.Net.Http
@using Microsoft.AspNetCore.Components.Web
@using Microsoft.JSInterop
@using Nupp.Services

<style type="text/css">
    /*TODO*/
    .delete-item {
    }

    .cart-item {
    }

    .esh-catalog-button {
        background-color: #83D01B;
        border: 0;
        color: #FFFFFF;
        cursor: pointer;
        font-size: 1rem;
        height: 3rem;
        margin-top: 1rem;
        transition: all 0.35s;
        width: 80%;
    }
</style>

<div class="esh-catalog-button" value="Lisa ostukorvi" @onclick="IncrementCount">
    @*<button class="btn btn-primary" @onclick="IncrementCount">Click me</button>*@
</div>


@code {
    /*[Parameter] public BasketDto BasketItem { get; set; }
    [Parameter] public EventCallback<MouseEventArgs> OnClickCallback { get; set; }*/

    Task IncrementCount()
    {
        //var test = HttpClient.CreateClient("APIClient");
        //var address = new Uri("http://localhost:5000/api/products");
        //var values = new Dictionary<string, string> {
        //        { "accountidentifier", "Data you want to send at account field" },
        //        { "type", "Data you want to send at type field"},
        //        { "seriesid", "The data you went to send at seriesid field"
        //        }
        //    };

        ////form "postable object" if that makes any sense
        //var content = new FormUrlEncodedContent(values);

        var test2 = Js.InvokeVoidAsync("showAlert", "test2");

        var foo = BasketService.PostToBasket().Result;
        return Task.CompletedTask;
    }
}

